# NB10 Windows åŒ»é™¢éƒ¨ç½²å®žæ–½è·¯çº¿å›¾
# Hospital Deployment Implementation Roadmap

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0.0
**åˆ›å»ºæ—¥æœŸ**: 2025-10-14
**çŠ¶æ€**: å¾…å®¡æ ¸

---

## ðŸ“‹ æ‰§è¡Œæ‘˜è¦ (Executive Summary)

æœ¬è·¯çº¿å›¾æ•´åˆäº†ç¡¬ä»¶è‡ªé€‚åº”ä¼˜åŒ–å’ŒæŽˆæƒç®¡ç†ä¸¤å¤§ç³»ç»Ÿçš„å®žæ–½è®¡åˆ’ï¼Œä¸ºNB10 Windowsåº”ç”¨çš„åŒ»é™¢éƒ¨ç½²æä¾›åˆ†é˜¶æ®µå®žæ–½æ–¹æ¡ˆã€‚

### å…³é”®æŒ‡æ ‡

| é¡¹ç›® | æŒ‡æ ‡ |
|------|------|
| **æ€»å®žæ–½å‘¨æœŸ** | 10å‘¨ (2.5ä¸ªæœˆ) |
| **æœ€å°å¯ç”¨ç‰ˆæœ¬** | 2å‘¨ (åŸºç¡€æŽˆæƒç³»ç»Ÿ) |
| **æŽ¨èç‰ˆæœ¬** | 6å‘¨ (æŽˆæƒ + æ ¸å¿ƒä¼˜åŒ–) |
| **å®Œæ•´ç‰ˆæœ¬** | 10å‘¨ (å…¨åŠŸèƒ½) |
| **é¢„æœŸæ€§èƒ½æå‡** | 20-40% (Standardç¡¬ä»¶) |
| **ç›®æ ‡ç¡¬ä»¶** | RTX 2060 6GB (åŒ»é™¢ä¸»æµé…ç½®) |

---

## ðŸŽ¯ æˆ˜ç•¥ç›®æ ‡

### 1. åŒ»é™¢éƒ¨ç½²åœºæ™¯

**å…¸åž‹åŒ»é™¢ç¡¬ä»¶çŽ¯å¢ƒ** (åŸºäºŽå¸‚åœºè°ƒç ”):
- GPU: RTX 2060 / RTX 3060 (6-12GB)
- CPU: i5-10400 / i7-10700 (6-8æ ¸)
- RAM: 16-32GB
- å­˜å‚¨: 512GB SSD + 1TB HDD

**å…³é”®éœ€æ±‚**:
1. **æŽˆæƒç®¡ç†**: é˜²æ­¢æœªæŽˆæƒä½¿ç”¨ï¼Œæ”¯æŒè¯•ç”¨å’Œå•†ä¸šæŽˆæƒ
2. **æ€§èƒ½ä¼˜åŒ–**: åœ¨ä¸»æµç¡¬ä»¶ä¸Šè¾¾åˆ°å¯æŽ¥å—é€Ÿåº¦ (15ç§’/æ‚£è€… â†’ 10ç§’/æ‚£è€…)
3. **ç¨³å®šæ€§**: é•¿æ—¶é—´è¿è¡Œä¸å´©æºƒï¼ŒGPUå†…å­˜å®‰å…¨
4. **æ˜“ç”¨æ€§**: åŒ»ç”Ÿå’ŒæŠ€æœ¯å‘˜å¯è½»æ¾æ“ä½œ

### 2. åˆ†é˜¶æ®µç›®æ ‡

#### Phase 1: åŸºç¡€å¯ç”¨ç‰ˆæœ¬ (2å‘¨)
- âœ… æŽˆæƒç³»ç»Ÿä¸Šçº¿
- âœ… æ”¯æŒè¯•ç”¨å’Œç ”ç©¶æŽˆæƒ
- âœ… åŸºæœ¬ç¦»çº¿éªŒè¯
- ðŸŽ¯ ç›®æ ‡: å¯æŽ§åˆ†å‘ï¼Œæ”¶é›†åŒ»é™¢è¯•ç”¨åé¦ˆ

#### Phase 2: ä¼˜åŒ–ç‰ˆæœ¬ (4å‘¨ï¼Œç´¯è®¡6å‘¨)
- âœ… ç¡¬ä»¶è‡ªåŠ¨æ£€æµ‹
- âœ… æ ¸å¿ƒæ€§èƒ½ä¼˜åŒ– (DataLoader, pin_memory)
- âœ… åŸºç¡€å®‰å…¨ç›‘æŽ§
- ðŸŽ¯ ç›®æ ‡: 20-30% æ€§èƒ½æå‡ï¼Œé€‚åˆåŒ»é™¢æ—¥å¸¸ä½¿ç”¨

#### Phase 3: ä¸“ä¸šç‰ˆæœ¬ (4å‘¨ï¼Œç´¯è®¡10å‘¨)
- âœ… å®Œæ•´ç¡¬ä»¶è‡ªé€‚åº”ç³»ç»Ÿ
- âœ… UIé›†æˆå’Œæ™ºèƒ½å»ºè®®
- âœ… å…¨é¢æµ‹è¯•å’Œæ–‡æ¡£
- ðŸŽ¯ ç›®æ ‡: å®Œæ•´å•†ä¸šåŒ–äº§å“

---

## ðŸ“… å®žæ–½æ—¶é—´çº¿

```
Week 1-2:  æŽˆæƒç®¡ç†ç³»ç»Ÿ (Priority: ðŸ”´ Critical)
           â”œâ”€ Week 1: åŸºç¡€æž¶æž„ + GitHubé›†æˆ
           â””â”€ Week 2: éªŒè¯é€»è¾‘ + CLIé›†æˆ

Week 3-4:  ç¡¬ä»¶æ£€æµ‹åŸºç¡€ (Priority: ðŸŸ¡ High)
           â”œâ”€ Week 3: ç¡¬ä»¶æ£€æµ‹æ¨¡å— + é…ç½®å¼•æ“Ž
           â””â”€ Week 4: æ ¸å¿ƒä¼˜åŒ– (DataLoader, pin_memory)

Week 5-6:  é›†æˆæµ‹è¯• + æ–‡æ¡£ (Priority: ðŸŸ¡ High)
           â”œâ”€ Week 5: å•å…ƒæµ‹è¯• + é›†æˆæµ‹è¯•
           â””â”€ Week 6: ç”¨æˆ·æ–‡æ¡£ + éƒ¨ç½²æŒ‡å—

Week 7-8:  é«˜çº§ä¼˜åŒ– (Priority: ðŸŸ¢ Medium)
           â”œâ”€ Week 7: æ™ºèƒ½ç¼“å­˜ + å®‰å…¨ç›‘æŽ§
           â””â”€ Week 8: å¤šGPUæ”¯æŒ

Week 9-10: UI + æœ€ç»ˆéªŒè¯ (Priority: ðŸŸ¢ Medium)
           â”œâ”€ Week 9: UIé›†æˆ + è®¾ç½®é¡µé¢
           â””â”€ Week 10: åŒ»é™¢çŽ¯å¢ƒæµ‹è¯• + å‘å¸ƒ
```

---

## ðŸ”§ è¯¦ç»†å®žæ–½è®¡åˆ’

### Phase 1: æŽˆæƒç®¡ç†ç³»ç»Ÿ (Week 1-2)

#### Week 1: åŸºç¡€æž¶æž„æ­å»º

**ç›®æ ‡**: å»ºç«‹GitHubç§æœ‰ä»“åº“å’Œæœ¬åœ°æŽˆæƒåŸºç¡€è®¾æ–½

**ä»»åŠ¡æ¸…å•**:
- [ ] åˆ›å»ºç§æœ‰ä»“åº“ `nb10-licenses` (30åˆ†é’Ÿ)
  ```bash
  gh repo create nb10-licenses --private
  cd nb10-licenses
  echo '{"authorized_users": []}' > authorized.json
  git add authorized.json && git commit -m "Initial commit"
  git push
  ```

- [ ] å®žçŽ°æŽˆæƒç ç”Ÿæˆå™¨ `tools/nb10_windows/utils/license_generator.py` (2å°æ—¶)
  ```python
  def generate_license_code(license_type: str) -> dict:
      """ç”ŸæˆæŽˆæƒç """
      # æ ¼å¼: NB10-{TYPE}-{RANDOM}
      # è¿”å›ž: {code, hardware_id, expire_date, max_cases}
  ```

- [ ] å®žçŽ°æœ¬åœ°éªŒè¯å™¨ `tools/nb10_windows/core/license_validator.py` (4å°æ—¶)
  ```python
  class LicenseValidator:
      def validate_local(self) -> bool:
          """æœ¬åœ°éªŒè¯é€»è¾‘"""

      def validate_online(self) -> bool:
          """åœ¨çº¿éªŒè¯é€»è¾‘"""

      def check_expiry(self) -> bool:
          """æ£€æŸ¥è¿‡æœŸæ—¶é—´"""
  ```

- [ ] åˆ›å»ºæœ¬åœ°æŽˆæƒæ–‡ä»¶ç»“æž„ (1å°æ—¶)
  ```
  ~/.nb10/
  â”œâ”€â”€ license.json      # æŽˆæƒä¿¡æ¯
  â”œâ”€â”€ cache.json        # åœ¨çº¿éªŒè¯ç¼“å­˜(24h)
  â””â”€â”€ usage.json        # ä½¿ç”¨ç»Ÿè®¡
  ```

**äº¤ä»˜ç‰©**:
- âœ… GitHubç§æœ‰ä»“åº“ `nb10-licenses`
- âœ… æŽˆæƒç ç”Ÿæˆå·¥å…·
- âœ… æœ¬åœ°éªŒè¯æ¨¡å—
- âœ… å•å…ƒæµ‹è¯• (è¦†ç›–çŽ‡ >80%)

**éªŒæ”¶æ ‡å‡†**:
```bash
# æµ‹è¯•æŽˆæƒç ç”Ÿæˆ
python utils/license_generator.py --type trial

# æµ‹è¯•æœ¬åœ°éªŒè¯
python -m pytest tests/test_license_validator.py -v

# è¾“å‡ºç¤ºä¾‹:
# âœ… Trial license generated: NB10-TRIAL-8F3A2D1C4B5E
# âœ… Valid until: 2025-11-14
# âœ… Max cases: 100
```

---

#### Week 2: CLIé›†æˆå’Œåœ¨çº¿éªŒè¯

**ç›®æ ‡**: å°†æŽˆæƒç³»ç»Ÿé›†æˆåˆ°çŽ°æœ‰CLIå·¥å…·

**ä»»åŠ¡æ¸…å•**:
- [ ] ä¿®æ”¹ `cli/run_nb10.py` æ·»åŠ æŽˆæƒæ£€æŸ¥ (3å°æ—¶)
  ```python
  # åœ¨main()å¼€å§‹å¤„æ·»åŠ 
  from core.license_validator import LicenseValidator

  validator = LicenseValidator()
  if not validator.validate():
      print("âŒ æŽˆæƒéªŒè¯å¤±è´¥ï¼Œè¯·è”ç³»ç®¡ç†å‘˜")
      sys.exit(1)
  ```

- [ ] å®žçŽ°åœ¨çº¿éªŒè¯é€»è¾‘ (4å°æ—¶)
  ```python
  def validate_online(self) -> bool:
      """ä»ŽGitHubæ‹‰å–authorized.jsonéªŒè¯"""
      try:
          response = requests.get(
              f"https://raw.githubusercontent.com/user/nb10-licenses/main/authorized.json",
              headers={'Authorization': f'token {GITHUB_TOKEN}'}
          )
          # éªŒè¯é€»è¾‘
      except:
          # é™çº§åˆ°æœ¬åœ°ç¼“å­˜
          return self.validate_from_cache()
  ```

- [ ] æ·»åŠ ä½¿ç”¨ç»Ÿè®¡åŠŸèƒ½ (2å°æ—¶)
  ```python
  def track_usage(patient_id: str):
      """è®°å½•ä½¿ç”¨æƒ…å†µ"""
      usage = load_usage_data()
      usage['total_cases'] += 1
      usage['cases'].append({
          'patient_id': patient_id,
          'timestamp': datetime.now().isoformat()
      })
      save_usage_data(usage)
  ```

- [ ] åˆ›å»ºæŽˆæƒç®¡ç†å‘½ä»¤ (2å°æ—¶)
  ```bash
  python cli/run_nb10.py --license activate NB10-TRIAL-8F3A2D1C
  python cli/run_nb10.py --license status
  python cli/run_nb10.py --license info
  ```

**äº¤ä»˜ç‰©**:
- âœ… CLIæŽˆæƒé›†æˆ
- âœ… åœ¨çº¿/ç¦»çº¿éªŒè¯
- âœ… ä½¿ç”¨ç»Ÿè®¡åŠŸèƒ½
- âœ… ç”¨æˆ·æ–‡æ¡£ `docs/LICENSE_USER_GUIDE.md`

**éªŒæ”¶æ ‡å‡†**:
```bash
# æµ‹è¯•å®Œæ•´æµç¨‹
python cli/run_nb10.py --license activate NB10-TRIAL-XXX
# âœ… License activated successfully
# âœ… Type: Trial
# âœ… Valid until: 2025-11-14
# âœ… Remaining cases: 100/100

python cli/run_nb10.py --config config.yaml --mode pilot --pilot-limit 1
# âœ… [1/1] Processing patient_001... SUCCESS (12.5s)
# âœ… Remaining cases: 99/100
```

**é£Žé™©æŽ§åˆ¶**:
- ðŸ”’ GitHub token å®‰å…¨å­˜å‚¨ (ä½¿ç”¨çŽ¯å¢ƒå˜é‡æˆ–åŠ å¯†é…ç½®)
- ðŸ”’ ç¦»çº¿éªŒè¯é™çº§æœºåˆ¶ (24å°æ—¶ç¼“å­˜)
- ðŸ”’ ç¡¬ä»¶IDç»‘å®šé˜²æ­¢æŽˆæƒè½¬ç§»

---

### Phase 2: ç¡¬ä»¶æ£€æµ‹ä¸Žæ ¸å¿ƒä¼˜åŒ– (Week 3-4)

#### Week 3: ç¡¬ä»¶æ£€æµ‹æ¨¡å—

**ç›®æ ‡**: å®žçŽ°è‡ªåŠ¨ç¡¬ä»¶æ£€æµ‹å’Œé…ç½®æ–‡ä»¶ç”Ÿæˆ

**ä»»åŠ¡æ¸…å•**:
- [ ] åˆ›å»ºç¡¬ä»¶æ£€æµ‹å™¨ `core/hardware_profiler.py` (4å°æ—¶)
  ```python
  class HardwareProfiler:
      def detect_gpu(self) -> dict:
          """æ£€æµ‹GPUåž‹å·ã€VRAMã€CUDAç‰ˆæœ¬"""

      def detect_cpu(self) -> dict:
          """æ£€æµ‹CPUæ ¸å¿ƒæ•°ã€é¢‘çŽ‡"""

      def detect_memory(self) -> dict:
          """æ£€æµ‹ç³»ç»Ÿå†…å­˜"""

      def classify_tier(self) -> str:
          """åˆ†ç±»ç¡¬ä»¶ç­‰çº§: minimal/standard/performance/professional/enterprise"""
  ```

- [ ] å®žçŽ°é…ç½®ç”Ÿæˆå¼•æ“Ž `core/config_generator.py` (3å°æ—¶)
  ```python
  def generate_optimal_config(hardware_tier: str) -> dict:
      """æ ¹æ®ç¡¬ä»¶ç­‰çº§ç”Ÿæˆæœ€ä¼˜é…ç½®"""
      configs = {
          'minimal': {
              'num_workers': 0,
              'pin_memory': False,
              'slice_batch_size': 2,
              'prefetch_factor': 1
          },
          'standard': {
              'num_workers': 4,
              'pin_memory': True,
              'slice_batch_size': 4,
              'prefetch_factor': 2
          },
          # ... å…¶ä»–ç­‰çº§
      }
      return configs[hardware_tier]
  ```

- [ ] æ·»åŠ é¦–æ¬¡å¯åŠ¨ç¡¬ä»¶æ£€æµ‹ (2å°æ—¶)
  ```python
  # åœ¨run_nb10.py main()å¼€å§‹å¤„
  if not os.path.exists(HARDWARE_CONFIG_FILE):
      print("ðŸ” é¦–æ¬¡è¿è¡Œï¼Œæ­£åœ¨æ£€æµ‹ç¡¬ä»¶é…ç½®...")
      profiler = HardwareProfiler()
      hardware_info = profiler.detect_all()
      tier = profiler.classify_tier()

      print(f"âœ… æ£€æµ‹åˆ°ç¡¬ä»¶ç­‰çº§: {tier}")
      print(f"   GPU: {hardware_info['gpu']['name']} ({hardware_info['gpu']['vram']}GB)")
      print(f"   CPU: {hardware_info['cpu']['cores']}æ ¸")

      # ç”Ÿæˆå¹¶ä¿å­˜é…ç½®
      optimal_config = generate_optimal_config(tier)
      save_hardware_config(optimal_config)
  ```

**äº¤ä»˜ç‰©**:
- âœ… ç¡¬ä»¶æ£€æµ‹æ¨¡å—
- âœ… é…ç½®ç”Ÿæˆå¼•æ“Ž
- âœ… ç¡¬ä»¶ä¿¡æ¯æŠ¥å‘Š
- âœ… å•å…ƒæµ‹è¯•

**éªŒæ”¶æ ‡å‡†**:
```bash
# é¦–æ¬¡è¿è¡Œè¾“å‡º
python cli/run_nb10.py --config config.yaml --mode pilot --pilot-limit 1

# è¾“å‡º:
# ðŸ” é¦–æ¬¡è¿è¡Œï¼Œæ­£åœ¨æ£€æµ‹ç¡¬ä»¶é…ç½®...
# âœ… æ£€æµ‹åˆ°ç¡¬ä»¶ç­‰çº§: standard
#    GPU: NVIDIA GeForce RTX 2060 (6GB VRAM)
#    CPU: Intel i5-10400 (6æ ¸)
#    RAM: 16GB
# âœ… å·²ç”Ÿæˆä¼˜åŒ–é…ç½®: ~/.nb10/hardware_config.json
#
# å»ºè®®é…ç½®:
#   - num_workers: 4 (CPUæ ¸å¿ƒä¼˜åŒ–)
#   - pin_memory: True (å¯ç”¨GPUå†…å­˜å›ºå®š)
#   - slice_batch_size: 4 (é€‚é…6GB VRAM)
#
# é¢„æœŸæ€§èƒ½æå‡: 25-30%
```

---

#### Week 4: æ ¸å¿ƒæ€§èƒ½ä¼˜åŒ–

**ç›®æ ‡**: åº”ç”¨ç¡¬ä»¶é…ç½®åˆ°æ•°æ®åŠ è½½å’ŒæŽ¨ç†æµç¨‹

**ä»»åŠ¡æ¸…å•**:
- [ ] ä¿®æ”¹ `core/ai_cac_inference_lib.py` ä½¿ç”¨åŠ¨æ€é…ç½® (3å°æ—¶)
  ```python
  # Line 76-77 (åŽŸä»£ç )
  dataloader = DataLoader(dataset, batch_size=1, shuffle=False,
                         num_workers=0,        # âŒ ç¡¬ç¼–ç 
                         pin_memory=False)     # âŒ ç¡¬ç¼–ç 

  # ä¿®æ”¹ä¸º:
  from .config_manager import ConfigManager
  config = ConfigManager.load_hardware_config()

  dataloader = DataLoader(
      dataset,
      batch_size=1,
      shuffle=False,
      num_workers=config['num_workers'],           # âœ… åŠ¨æ€é…ç½®
      pin_memory=config['pin_memory'],             # âœ… åŠ¨æ€é…ç½®
      prefetch_factor=config.get('prefetch_factor', 2) if config['num_workers'] > 0 else None
  )
  ```

- [ ] å®žçŽ°æ™ºèƒ½ç¼“å­˜ç­–ç•¥ (4å°æ—¶)
  ```python
  class SmartCacheManager:
      def should_clear_cache(self, vram_usage: float) -> bool:
          """æ ¹æ®VRAMä½¿ç”¨çŽ‡å†³å®šæ˜¯å¦æ¸…ç†ç¼“å­˜"""
          # Minimal: >80% æ¸…ç†
          # Standard: >85% æ¸…ç†
          # Performance: >90% æ¸…ç†

      def clear_cache_adaptive(self):
          """è‡ªé€‚åº”ç¼“å­˜æ¸…ç†"""
          if self.should_clear_cache(get_vram_usage()):
              torch.cuda.empty_cache()
  ```

- [ ] æ·»åŠ æ€§èƒ½ç›‘æŽ§ (2å°æ—¶)
  ```python
  class PerformanceMonitor:
      def track_inference_time(self, patient_id: str, time_seconds: float):
          """è®°å½•æŽ¨ç†æ—¶é—´"""

      def get_average_speed(self) -> float:
          """èŽ·å–å¹³å‡é€Ÿåº¦"""

      def compare_baseline(self) -> dict:
          """ä¸ŽåŸºçº¿æ€§èƒ½æ¯”è¾ƒ"""
          # åŸºçº¿: 15ç§’/æ‚£è€… (num_workers=0, pin_memory=False)
          # è¿”å›ž: {'baseline': 15.0, 'current': 11.2, 'improvement': '25.3%'}
  ```

**äº¤ä»˜ç‰©**:
- âœ… åŠ¨æ€é…ç½®é›†æˆ
- âœ… æ™ºèƒ½ç¼“å­˜ç®¡ç†
- âœ… æ€§èƒ½ç›‘æŽ§æ¨¡å—
- âœ… æ€§èƒ½åŸºå‡†æµ‹è¯•

**éªŒæ”¶æ ‡å‡†**:
```bash
# è¿è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•
python tests/benchmark_performance.py --mode comparison

# è¾“å‡º:
# ðŸ“Š æ€§èƒ½åŸºå‡†æµ‹è¯• (RTX 2060, 6GB VRAM)
#
# åŸºçº¿é…ç½® (num_workers=0, pin_memory=False):
#   â±ï¸  å¹³å‡é€Ÿåº¦: 15.3ç§’/æ‚£è€…
#   ðŸ’¾ VRAMå³°å€¼: 4.2GB
#
# ä¼˜åŒ–é…ç½® (num_workers=4, pin_memory=True):
#   â±ï¸  å¹³å‡é€Ÿåº¦: 11.2ç§’/æ‚£è€… â¬†ï¸ 26.8% faster
#   ðŸ’¾ VRAMå³°å€¼: 4.5GB
#
# âœ… æ€§èƒ½æå‡è¾¾æ ‡ (ç›®æ ‡: >20%)
```

---

### Phase 3: é›†æˆæµ‹è¯•ä¸Žæ–‡æ¡£ (Week 5-6)

#### Week 5: å…¨é¢æµ‹è¯•

**ç›®æ ‡**: ç¡®ä¿æŽˆæƒç³»ç»Ÿå’Œä¼˜åŒ–ç³»ç»ŸååŒå·¥ä½œ

**ä»»åŠ¡æ¸…å•**:
- [ ] å•å…ƒæµ‹è¯•è¦†ç›– (2å¤©)
  ```bash
  tests/
  â”œâ”€â”€ test_license_validator.py      # æŽˆæƒéªŒè¯æµ‹è¯•
  â”œâ”€â”€ test_hardware_profiler.py      # ç¡¬ä»¶æ£€æµ‹æµ‹è¯•
  â”œâ”€â”€ test_config_generator.py       # é…ç½®ç”Ÿæˆæµ‹è¯•
  â”œâ”€â”€ test_performance_monitor.py    # æ€§èƒ½ç›‘æŽ§æµ‹è¯•
  â””â”€â”€ test_integration.py            # é›†æˆæµ‹è¯•
  ```

- [ ] é›†æˆæµ‹è¯•åœºæ™¯ (2å¤©)
  ```python
  # åœºæ™¯1: æ–°ç”¨æˆ·é¦–æ¬¡ä½¿ç”¨ (TrialæŽˆæƒ)
  def test_new_user_trial_license():
      # 1. æ¿€æ´»TrialæŽˆæƒ
      # 2. é¦–æ¬¡è¿è¡Œç¡¬ä»¶æ£€æµ‹
      # 3. å¤„ç†1ä¸ªæ‚£è€…
      # 4. éªŒè¯æŽˆæƒæ‰£å‡ (99/100)
      # 5. éªŒè¯æ€§èƒ½æå‡

  # åœºæ™¯2: æŽˆæƒè¿‡æœŸå¤„ç†
  def test_license_expiry():
      # 1. æ¨¡æ‹ŸæŽˆæƒè¿‡æœŸ
      # 2. å°è¯•è¿è¡Œ -> åº”è¯¥æ‹’ç»
      # 3. æ›´æ–°æŽˆæƒ
      # 4. éªŒè¯æ¢å¤æ­£å¸¸

  # åœºæ™¯3: ç¦»çº¿ä½¿ç”¨
  def test_offline_validation():
      # 1. åœ¨çº¿éªŒè¯å¹¶ç¼“å­˜
      # 2. æ–­ç½‘
      # 3. éªŒè¯ä»å¯ä½¿ç”¨ (24å°æ—¶å†…)
      # 4. è¶…è¿‡24å°æ—¶ -> æç¤ºéœ€åœ¨çº¿éªŒè¯
  ```

- [ ] åŒ»é™¢çŽ¯å¢ƒæ¨¡æ‹Ÿæµ‹è¯• (1å¤©)
  ```bash
  # æ¨¡æ‹Ÿä¸åŒç¡¬ä»¶çŽ¯å¢ƒ
  docker run --gpus '"device=0"' \
    -e CUDA_VISIBLE_DEVICES=0 \
    -v $(pwd):/workspace \
    nb10-test:rtx2060 \
    python cli/run_nb10.py --config config.yaml --mode full
  ```

**äº¤ä»˜ç‰©**:
- âœ… å•å…ƒæµ‹è¯•å¥—ä»¶ (è¦†ç›–çŽ‡ >85%)
- âœ… é›†æˆæµ‹è¯•å¥—ä»¶
- âœ… æ€§èƒ½å›žå½’æµ‹è¯•
- âœ… ç¡¬ä»¶å…¼å®¹æ€§æµ‹è¯•æŠ¥å‘Š

---

#### Week 6: ç”¨æˆ·æ–‡æ¡£å’Œéƒ¨ç½²æŒ‡å—

**ç›®æ ‡**: å®Œå–„æ–‡æ¡£ï¼Œæ”¯æŒåŒ»é™¢ITéƒ¨é—¨ç‹¬ç«‹éƒ¨ç½²

**ä»»åŠ¡æ¸…å•**:
- [ ] ç”¨æˆ·æ‰‹å†Œ `docs/USER_MANUAL.md` (2å¤©)
  ```markdown
  # NB10 Windows ç”¨æˆ·æ‰‹å†Œ

  ## 1. ç³»ç»Ÿè¦æ±‚
  - æœ€ä½Žé…ç½®: GTX 1060 3GB / 8GB RAM
  - æŽ¨èé…ç½®: RTX 2060 6GB / 16GB RAM
  - æœ€ä½³é…ç½®: RTX 3060 12GB / 32GB RAM

  ## 2. å®‰è£…æ­¥éª¤
  1. Python 3.10çŽ¯å¢ƒå‡†å¤‡
  2. ä¾èµ–å®‰è£…
  3. æ¨¡åž‹ä¸‹è½½
  4. æŽˆæƒæ¿€æ´»

  ## 3. ä½¿ç”¨æŒ‡å—
  - è¯•ç”¨ç‰ˆä½¿ç”¨ (100ä¾‹é™åˆ¶)
  - æ•°æ®å‡†å¤‡ (DICOMæ ¼å¼è¦æ±‚)
  - è¿è¡Œåˆ†æž
  - ç»“æžœè§£è¯»

  ## 4. å¸¸è§é—®é¢˜
  - GPUå†…å­˜ä¸è¶³æ€Žä¹ˆåŠž?
  - æŽˆæƒè¿‡æœŸå¦‚ä½•ç»­æœŸ?
  - æ€§èƒ½ä¼˜åŒ–å»ºè®®
  ```

- [ ] ITéƒ¨ç½²æŒ‡å— `docs/IT_DEPLOYMENT_GUIDE.md` (1å¤©)
  ```markdown
  # åŒ»é™¢ITéƒ¨ç½²æŒ‡å—

  ## çŽ¯å¢ƒå‡†å¤‡æ£€æŸ¥æ¸…å•
  - [ ] GPUé©±åŠ¨ç‰ˆæœ¬ â‰¥ 520.61.05
  - [ ] CUDA 11.8 å·²å®‰è£…
  - [ ] Python 3.10 å·²å®‰è£…
  - [ ] ç½‘ç»œç­–ç•¥å…è®¸è®¿é—® raw.githubusercontent.com (åœ¨çº¿éªŒè¯)

  ## éƒ¨ç½²æ­¥éª¤
  1. å…‹éš†ä»£ç ä»“åº“
  2. åˆ›å»ºè™šæ‹ŸçŽ¯å¢ƒ
  3. å®‰è£…ä¾èµ–
  4. ä¸‹è½½AI-CACæ¨¡åž‹
  5. ç”³è¯·å¹¶æ¿€æ´»æŽˆæƒ
  6. ç¡¬ä»¶æ£€æµ‹å’Œé…ç½®
  7. è¯•è¿è¡ŒéªŒè¯

  ## æŽˆæƒç®¡ç†
  - è¯•ç”¨ç‰ˆç”³è¯·æµç¨‹
  - ç ”ç©¶ç‰ˆç”³è¯·æµç¨‹ (éœ€è¦ä¼¦ç†å®¡æ‰¹è¯æ˜Ž)
  - å•†ä¸šç‰ˆé‡‡è´­æµç¨‹

  ## æ•…éšœæŽ’æŸ¥
  - GPUä¸å¯ç”¨ -> æ£€æŸ¥é©±åŠ¨å’ŒCUDA
  - æŽˆæƒéªŒè¯å¤±è´¥ -> æ£€æŸ¥ç½‘ç»œæˆ–ä½¿ç”¨ç¦»çº¿ç¼“å­˜
  - æ€§èƒ½ä¸è¾¾é¢„æœŸ -> æŸ¥çœ‹ç¡¬ä»¶é…ç½®å»ºè®®
  ```

- [ ] æŽˆæƒç”³è¯·æ¨¡æ¿ (1å¤©)
  ```markdown
  # ç ”ç©¶ç‰ˆæŽˆæƒç”³è¯·è¡¨

  ç”³è¯·å•ä½: __________
  è”ç³»äºº: __________
  é‚®ç®±: __________

  ç ”ç©¶é¡¹ç›®ä¿¡æ¯:
  - é¡¹ç›®åç§°: __________
  - ä¼¦ç†æ‰¹å·: __________
  - é¢„è®¡æ ·æœ¬é‡: __________
  - ç ”ç©¶æœŸé™: __________

  é™„ä»¶:
  - [ ] ä¼¦ç†å®¡æ‰¹æ–‡ä»¶æ‰«æä»¶
  - [ ] å•ä½è¯æ˜Ž
  - [ ] ç¡¬ä»¶ID (è¿è¡Œ `python cli/run_nb10.py --license hwid` èŽ·å–)
  ```

**äº¤ä»˜ç‰©**:
- âœ… ç”¨æˆ·æ‰‹å†Œ
- âœ… ITéƒ¨ç½²æŒ‡å—
- âœ… æŽˆæƒç”³è¯·æµç¨‹æ–‡æ¡£
- âœ… FAQæ–‡æ¡£

---

### Phase 4: é«˜çº§ä¼˜åŒ– (Week 7-8) - å¯é€‰

#### Week 7: æ™ºèƒ½ç›‘æŽ§å’Œå¤šGPUæ”¯æŒ

**ç›®æ ‡**: å¢žå¼ºç³»ç»Ÿç¨³å®šæ€§å’Œé«˜ç«¯ç¡¬ä»¶æ”¯æŒ

**ä»»åŠ¡æ¸…å•**:
- [ ] GPUæ¸©åº¦ç›‘æŽ§ (1å¤©)
  ```python
  class GPUMonitor:
      def check_temperature(self) -> float:
          """æ£€æŸ¥GPUæ¸©åº¦"""
          temp = pynvml.nvmlDeviceGetTemperature(handle, NVML_TEMPERATURE_GPU)
          if temp > 80:
              warnings.warn(f"âš ï¸ GPUæ¸©åº¦è¿‡é«˜: {temp}Â°C")
          return temp
  ```

- [ ] OOMä¿æŠ¤æœºåˆ¶ (2å¤©)
  ```python
  class OOMProtector:
      def predict_oom_risk(self, batch_size: int) -> bool:
          """é¢„æµ‹æ˜¯å¦æœ‰OOMé£Žé™©"""
          current_usage = get_gpu_memory_usage()
          estimated_usage = current_usage + estimate_batch_memory(batch_size)
          return estimated_usage > 0.9 * total_vram

      def adaptive_batch_size(self, initial_size: int) -> int:
          """è‡ªé€‚åº”è°ƒæ•´batch_size"""
          while self.predict_oom_risk(initial_size):
              initial_size = max(1, initial_size // 2)
          return initial_size
  ```

- [ ] å¤šGPUæ”¯æŒ (2å¤©)
  ```python
  # ä»…é’ˆå¯¹ Enterprise ç­‰çº§
  if hardware_tier == 'enterprise' and num_gpus > 1:
      model = nn.DataParallel(model, device_ids=list(range(num_gpus)))
  ```

---

#### Week 8: æ€§èƒ½ä¼˜åŒ–æ”¶å°¾

**ä»»åŠ¡æ¸…å•**:
- [ ] æ¨¡åž‹é¢„çƒ­æœºåˆ¶ (1å¤©)
- [ ] æ‰¹é‡å¤„ç†ä¼˜åŒ– (2å¤©)
- [ ] æ€§èƒ½åˆ†æžæŠ¥å‘Š (2å¤©)

---

### Phase 5: UIé›†æˆä¸Žæœ€ç»ˆéªŒè¯ (Week 9-10) - å¯é€‰

#### Week 9: GUIé›†æˆ

**ç›®æ ‡**: ä¸ºéžæŠ€æœ¯ç”¨æˆ·æä¾›å›¾å½¢ç•Œé¢

**ä»»åŠ¡æ¸…å•**:
- [ ] åˆ›å»ºè®¾ç½®é¡µé¢ (2å¤©)
  ```python
  # ä½¿ç”¨ tkinter æˆ– PyQt5
  class SettingsWindow:
      def show_hardware_info(self):
          """æ˜¾ç¤ºç¡¬ä»¶ä¿¡æ¯å’Œä¼˜åŒ–å»ºè®®"""

      def show_license_status(self):
          """æ˜¾ç¤ºæŽˆæƒçŠ¶æ€"""

      def manual_config_override(self):
          """å…è®¸æ‰‹åŠ¨è°ƒæ•´é…ç½®"""
  ```

- [ ] æ·»åŠ è¿›åº¦æ¡å’Œæ—¥å¿—æŸ¥çœ‹å™¨ (1å¤©)
- [ ] é›†æˆåˆ°çŽ°æœ‰CLI (1å¤©)

---

#### Week 10: åŒ»é™¢çŽ¯å¢ƒæœ€ç»ˆéªŒè¯

**ç›®æ ‡**: åœ¨çœŸå®žåŒ»é™¢çŽ¯å¢ƒæµ‹è¯•

**ä»»åŠ¡æ¸…å•**:
- [ ] åŒ»é™¢Aè¯•ç‚¹æµ‹è¯• (RTX 2060, 3å¤©)
- [ ] æ”¶é›†åé¦ˆå¹¶ä¿®å¤é—®é¢˜ (2å¤©)
- [ ] å‘å¸ƒ v1.0.0

---

## ðŸŽ¯ ä¼˜å…ˆçº§å’Œå¿«é€Ÿè·¯å¾„

### æ–¹æ¡ˆA: æœ€å°å¯ç”¨ç‰ˆæœ¬ (2å‘¨)

**é€‚ç”¨åœºæ™¯**: å¿«é€Ÿå¯åŠ¨åŒ»é™¢è¯•ç”¨ï¼Œæ”¶é›†åé¦ˆ

**åŒ…å«å†…å®¹**:
- âœ… æŽˆæƒç³»ç»Ÿ (Week 1-2)
- âœ… åŸºç¡€æ–‡æ¡£

**ä¸åŒ…å«**:
- âŒ ç¡¬ä»¶ä¼˜åŒ– (ä»ä½¿ç”¨é»˜è®¤é…ç½®)
- âŒ æ€§èƒ½ç›‘æŽ§

**ä¼˜ç‚¹**:
- å¿«é€Ÿä¸Šçº¿ (2å‘¨)
- æŽ§åˆ¶æŽˆæƒåˆ†å‘
- æ”¶é›†çœŸå®žä½¿ç”¨æ•°æ®

**ç¼ºç‚¹**:
- æ€§èƒ½æœªä¼˜åŒ– (ä»æ˜¯15ç§’/æ‚£è€…)
- ç”¨æˆ·ä½“éªŒä¸€èˆ¬

---

### æ–¹æ¡ˆB: æŽ¨èç‰ˆæœ¬ (6å‘¨) â­

**é€‚ç”¨åœºæ™¯**: å¹³è¡¡åŠŸèƒ½å’Œæ—¶é—´ï¼Œé€‚åˆåŒ»é™¢æ­£å¼ä½¿ç”¨

**åŒ…å«å†…å®¹**:
- âœ… æŽˆæƒç³»ç»Ÿ (Week 1-2)
- âœ… ç¡¬ä»¶æ£€æµ‹å’Œæ ¸å¿ƒä¼˜åŒ– (Week 3-4)
- âœ… æµ‹è¯•å’Œæ–‡æ¡£ (Week 5-6)

**ä¸åŒ…å«**:
- âŒ é«˜çº§ç›‘æŽ§
- âŒ å¤šGPUæ”¯æŒ
- âŒ GUIç•Œé¢

**ä¼˜ç‚¹**:
- æ€§èƒ½æå‡ 25-30%
- ç¨³å®šå¯é 
- æ–‡æ¡£å®Œå–„
- é€‚åˆåŒ»é™¢æ—¥å¸¸ä½¿ç”¨

**ç¼ºç‚¹**:
- éœ€è¦6å‘¨å¼€å‘æ—¶é—´
- ç¼ºå°‘é«˜çº§åŠŸèƒ½

**æŽ¨èç†ç”±**:
æ­¤æ–¹æ¡ˆæä¾›äº†æŽˆæƒæŽ§åˆ¶å’Œæ˜¾è‘—æ€§èƒ½æå‡ï¼ŒåŒæ—¶å¼€å‘å‘¨æœŸå¯æŽ§ã€‚å¯¹äºŽåŒ»é™¢éƒ¨ç½²æ¥è¯´ï¼Œ6å‘¨æ˜¯å¯æŽ¥å—çš„æ—¶é—´ï¼Œä¸”èƒ½æä¾›ä¸“ä¸šçº§çš„ç”¨æˆ·ä½“éªŒã€‚

---

### æ–¹æ¡ˆC: å®Œæ•´ç‰ˆæœ¬ (10å‘¨)

**é€‚ç”¨åœºæ™¯**: å•†ä¸šåŒ–äº§å“ï¼Œæ”¯æŒé«˜ç«¯ç¡¬ä»¶

**åŒ…å«å†…å®¹**:
- âœ… æ‰€æœ‰Phase 1-5åŠŸèƒ½

**ä¼˜ç‚¹**:
- å®Œæ•´åŠŸèƒ½
- æ”¯æŒå¤šGPU
- GUIç•Œé¢
- æ™ºèƒ½ç›‘æŽ§

**ç¼ºç‚¹**:
- å¼€å‘å‘¨æœŸé•¿ (2.5ä¸ªæœˆ)
- å¯èƒ½over-engineering (åŒ»é™¢æœªå¿…éœ€è¦æ‰€æœ‰åŠŸèƒ½)

---

## ðŸ“Š èµ„æºåˆ†é…

### äººåŠ›éœ€æ±‚

| è§’è‰² | æ–¹æ¡ˆA (2å‘¨) | æ–¹æ¡ˆB (6å‘¨) | æ–¹æ¡ˆC (10å‘¨) |
|------|-------------|-------------|--------------|
| **åŽç«¯å¼€å‘** | 1äºº Ã— 2å‘¨ | 1äºº Ã— 6å‘¨ | 1äºº Ã— 10å‘¨ |
| **æµ‹è¯•å·¥ç¨‹å¸ˆ** | - | 0.5äºº Ã— 2å‘¨ | 1äºº Ã— 4å‘¨ |
| **æ–‡æ¡£å·¥ç¨‹å¸ˆ** | - | 0.5äºº Ã— 2å‘¨ | 0.5äºº Ã— 4å‘¨ |
| **æ€»å·¥ä½œé‡** | 2äººå‘¨ | 8äººå‘¨ | 16äººå‘¨ |

### æŠ€æœ¯æ ˆ

**å¿…éœ€**:
- Python 3.10
- PyTorch 2.1.0
- MONAI 1.3.2
- pydicom
- requests (GitHub API)

**å¯é€‰** (æ–¹æ¡ˆC):
- pynvml (GPUç›‘æŽ§)
- PyQt5 (GUI)
- pytest-xdist (å¹¶è¡Œæµ‹è¯•)

---

## ðŸš€ é‡Œç¨‹ç¢‘å’ŒéªŒæ”¶æ ‡å‡†

### Milestone 1: æŽˆæƒç³»ç»Ÿä¸Šçº¿ (Week 2)

**éªŒæ”¶æ ‡å‡†**:
```bash
# 1. æ¿€æ´»è¯•ç”¨æŽˆæƒ
python cli/run_nb10.py --license activate NB10-TRIAL-XXX
# âœ… License activated

# 2. æŸ¥çœ‹æŽˆæƒçŠ¶æ€
python cli/run_nb10.py --license status
# âœ… Type: Trial
# âœ… Remaining: 100/100 cases
# âœ… Valid until: 2025-11-14

# 3. å¤„ç†ä¸€ä¸ªæ‚£è€…
python cli/run_nb10.py --config config.yaml --mode pilot --pilot-limit 1
# âœ… [1/1] Processing... SUCCESS
# âœ… Remaining: 99/100 cases

# 4. æŽˆæƒç”¨å°½æµ‹è¯•
# (å¤„ç†100ä¸ªæ‚£è€…åŽ)
python cli/run_nb10.py --config config.yaml --mode pilot --pilot-limit 1
# âŒ License quota exceeded. Please upgrade to Research or Commercial license.
```

---

### Milestone 2: æ€§èƒ½ä¼˜åŒ–éªŒè¯ (Week 4)

**éªŒæ”¶æ ‡å‡†**:
```bash
# åœ¨RTX 2060 (6GB) çŽ¯å¢ƒæµ‹è¯•
python tests/benchmark_performance.py

# æœŸæœ›è¾“å‡º:
# ðŸ“Š åŸºçº¿æ€§èƒ½: 15.3ç§’/æ‚£è€…
# ðŸ“Š ä¼˜åŒ–æ€§èƒ½: 11.2ç§’/æ‚£è€…
# âœ… æ€§èƒ½æå‡: 26.8% (ç›®æ ‡: >20%)
# âœ… VRAMå³°å€¼: 4.5GB (å®‰å…¨èŒƒå›´: <5.5GB)
# âœ… GPUæ¸©åº¦: 72Â°C (å®‰å…¨)
```

---

### Milestone 3: åŒ»é™¢è¯•ç‚¹éªŒè¯ (Week 6 æˆ– Week 10)

**éªŒæ”¶æ ‡å‡†**:
- âœ… è¿žç»­è¿è¡Œ 100 ä¸ªæ‚£è€…æ— å´©æºƒ
- âœ… å¹³å‡é€Ÿåº¦ <12 ç§’/æ‚£è€… (RTX 2060)
- âœ… æŽˆæƒç³»ç»Ÿæ— è¯¯æŠ¥
- âœ… åŒ»ç”Ÿåé¦ˆå¯ç”¨æ€§è¯„åˆ† â‰¥4.0/5.0

---

## ðŸ”„ è¿­ä»£å’Œç»´æŠ¤

### ç‰ˆæœ¬è§„åˆ’

**v1.0.0** (Week 2 æˆ– Week 6):
- æŽˆæƒç³»ç»Ÿ
- (å¯é€‰) ç¡¬ä»¶ä¼˜åŒ–

**v1.1.0** (Week 10):
- é«˜çº§ç›‘æŽ§
- å¤šGPUæ”¯æŒ

**v1.2.0** (æœªæ¥):
- GUIç•Œé¢
- äº‘ç«¯ç»“æžœåŒæ­¥

### ç»´æŠ¤è®¡åˆ’

**æœˆåº¦ç»´æŠ¤**:
- æŽˆæƒæ•°æ®åº“æ›´æ–°
- æ€§èƒ½ç›‘æŽ§æŠ¥å‘Š
- Bugä¿®å¤

**å­£åº¦æ›´æ–°**:
- æ–°ç¡¬ä»¶é€‚é… (æ–°GPUåž‹å·)
- æ€§èƒ½ä¼˜åŒ–
- åŠŸèƒ½å¢žå¼º

---

## ðŸ“ å†³ç­–å»ºè®®

### ç»™ç”¨æˆ·çš„å»ºè®®

**å¦‚æžœç›®æ ‡æ˜¯å¿«é€ŸåŒ»é™¢è¯•ç”¨** (æ”¶é›†åé¦ˆ):
ðŸ‘‰ **é€‰æ‹©æ–¹æ¡ˆA** (2å‘¨)
- ä¸“æ³¨æŽˆæƒç³»ç»Ÿ
- å¿«é€Ÿä¸Šçº¿æ”¶é›†æ•°æ®
- åŽç»­è¿­ä»£ä¼˜åŒ–

**å¦‚æžœç›®æ ‡æ˜¯æ­£å¼éƒ¨ç½²ä½¿ç”¨** (æŽ¨è):
ðŸ‘‰ **é€‰æ‹©æ–¹æ¡ˆB** (6å‘¨) â­
- å¹³è¡¡åŠŸèƒ½å’Œæ—¶é—´
- æ€§èƒ½æå‡æ˜¾è‘— (25-30%)
- æ–‡æ¡£å®Œå–„æ˜“éƒ¨ç½²
- é€‚åˆåŒ»é™¢æ—¥å¸¸å·¥ä½œæµç¨‹

**å¦‚æžœç›®æ ‡æ˜¯å•†ä¸šåŒ–äº§å“**:
ðŸ‘‰ **é€‰æ‹©æ–¹æ¡ˆC** (10å‘¨)
- å®Œæ•´åŠŸèƒ½
- æ”¯æŒé«˜ç«¯ç¡¬ä»¶
- GUIç•Œé¢

### ä¸‹ä¸€æ­¥è¡ŒåŠ¨

**ç«‹å³è¡ŒåŠ¨** (æ— è®ºé€‰æ‹©å“ªä¸ªæ–¹æ¡ˆ):
1. åˆ›å»ºGitHubç§æœ‰ä»“åº“ `nb10-licenses`
2. è®¾ç½®GitHub Personal Access Token (ç”¨äºŽåœ¨çº¿éªŒè¯)
3. å‡†å¤‡è¯•ç”¨æŽˆæƒç”³è¯·è¡¨æ¨¡æ¿

**Week 1 å¯åŠ¨æ£€æŸ¥æ¸…å•**:
- [ ] GitHubä»“åº“å·²åˆ›å»º
- [ ] å¼€å‘çŽ¯å¢ƒå‡†å¤‡å®Œæ¯•
- [ ] ç¡®è®¤ç¡¬ä»¶æµ‹è¯•çŽ¯å¢ƒå¯ç”¨ (RTX 2060 æˆ–ç±»ä¼¼)
- [ ] å›¢é˜Ÿæˆå‘˜è§’è‰²åˆ†é…æ˜Žç¡®

---

## ðŸ“ž è”ç³»å’Œæ”¯æŒ

**æŠ€æœ¯æ”¯æŒ**:
- é¡¹ç›®è´Ÿè´£äºº: Chen Doctor Team
- æŠ€æœ¯æ–‡æ¡£: `tools/nb10_windows/docs/`
- Issueè¿½è¸ª: GitHub Issues

**æŽˆæƒå’¨è¯¢**:
- é‚®ç®±: [å¾…å¡«å†™]
- è¯•ç”¨ç”³è¯·: [å¾…å¡«å†™è¡¨å•é“¾æŽ¥]

---

**æ–‡æ¡£ç»“æŸ**

æœ€åŽæ›´æ–°: 2025-10-14
ç‰ˆæœ¬: 1.0.0
çŠ¶æ€: å¾…ç”¨æˆ·å®¡æ ¸å’Œé€‰æ‹©å®žæ–½æ–¹æ¡ˆ
